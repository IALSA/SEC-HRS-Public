"nc087"="incontience_2012",
"nc095"="eyesrate_2012",
"nc098"="cataractsurg_2012",
"nc101"="glaucoma_2012",
"nc102"="hearaid_2012",
"nc103"="hearingrate_2012",
"nc083"="fallasleep_2012",
"nc084"="wakenight_2012",
"nc085"="wakeearl_2012",
"nc086"="rested_2012",
"nc104"="pain_2012",
"nc105"="painrate_2012",
"nc106"="painactivity_2012",
"nc107"="othermed_2012",
"nc223"="activityvig_2012",
"nc224"="activitymod_2012",
"nc225"="activitymild_2012",
"nc116"="smokeEv_2012",
"nc117"="smokecurrent_2012",
"nc118"="numcig_2012",
"nc125"="yrsquit_2012",
"nc126"="yrquit_2012",
"nc127"="agequit_2012",
"nc128"="alcohol_2012",
"nc129"="alcdays_2012",
"nc130"="alcdrinks_2012",
"nc131"="binge_2012",
"nc134"="alcever_2012",
"nc135"="CAGE1_2012",
"nc136"="CAGE2_2012",
"nc137"="CAGE3_2012",
"nc138"="CAGE4_2012",
"nc139"="weight_2012",
"nc140"="changelbs_2012",
"nc141"="heightft_2012",
"nc142"="heightin_2012",
"nc143"="feetswell_2012",
"nc144"="breathshort_2012",
"nc145"="dizzy_2012",
"nc146"="backpain_2012",
"nc147"="headache_2012",
"nc148"="fatigue_2012",
"nc149"="cough_2012",
"nc229"="C229_2012",
"nc150"="C150_2012",
"nc151"="C151_2012",
"nc152"="C152_2012",
"nc153"="C153_2012",
"nc154"="C154_2012",
"nc155"="C155_2012",
"nc156"="C156_2012",
"nc157"="C157_2012",
"nc158"="C158_2012",
"nc159"="C159_2012",
"nc160"="C160_2012",
"nc161"="C161_2012",
"nc162"="C162_2012",
"nc163"="C163_2012",
"nc164"="C164_2012",
"nc165"="C165_2012",
"nc166"="C166_2012",
"nc167"="C167_2012",
"nc168"="C168_2012",
"nc169"="C169_2012",
"nc170"="C170_2012",
"nc171"="C171_2012",
"nc172"="C172_2012",
"nc173"="C173_2012",
"nc174"="C174_2012",
"nc175"="C175_2012",
"nc176"="C176_2012",
"nc177"="C177_2012",
"nc178"="C178_2012",
"nc179"="C179_2012",
"nc180"="C180_2012",
"nc181"="C181_2012",
"nc182"="C182_2012",
"nc183"="C183_2012",
"nd101"="rmemory_2010",
"nd102"="pastmem_2010",
"nd104"="wordlist_2010",
"nd182m1"="wordIR1_2010",
"nd182m2"="wordIR2_2010",
"nd182m3"="wordIR3_2010",
"nd182m4"="wordIR4_2010",
"nd182m5"="wordIR5_2010",
"nd182m6"="wordIR6_2010",
"nd182m7"="wordIR7_2010",
"nd182m8"="wordIR8_2010",
"nd182m9"="wordIR9_2010",
"nd182m10"="wordIR10_2010",
"nd174"="wrdsImgood_2010",
"nd175"="wrdsIwrong_2010",
"nd176"="wordIforg_2010",
"nd177"="nowordsIm_2010",
"nd108m1"="wordprob1_2010",
"nd108m2"="wordprob2_2010",
"nd108m3"="wordprob4_2010",
"nd108m4"="wordcheck_2010",
"nd110"="cesd1_2010",
"nd111"="cesd2_2010",
"nd112"="cesd3_2010",
"nd113"="cesd4_2010",
"nd114"="cesd5_2010",
"nd115"="cesd6_2010",
"nd116"="cesd7_2010",
"nd117"="cesd8_2010",
"nd118"="cesd9_2010",
"nd120"="count_2010",
"nd142"="serial7s1_2010",
"nd143"="serial7s2_2010",
"nd144"="serial7s3_2010",
"nd145"="serial7s4_2010",
"nd146"="serial7s5_2010",
"nd183m1"="wordDR1_2010",
"nd183m2"="wordDR2_2010",
"nd183m3"="wordDR3_2010",
"nd183m4"="wordDR4_2010",
"nd183m5"="wordDR5_2010",
"nd183m6"="wordDR6_2010",
"nd183m7"="wordDR7_2010",
"nd183m8"="wordDR8_2010",
"nd183m9"="wordDR9_2010",
"nd183m10"="wordDR10_2010",
"nd184"="wrdsDgood_2010",
"nd185"="wrdsDwrong_2010",
"nd186"="wordDforg_2010",
"nd187"="nowordsDel_2010",
"nd150"="intro_2010",
"nd151"="qMonth_2010",
"nd152"="qDay_2010",
"nd153"="qYear_2010",
"nd154"="qWeekday_2010",
"nd155"="naming1_2010",
"nd156"="naming2_2010",
"nd157"="president_2010",
"nd158"="vicepres_2010",
"nd170"="TICScount_2010",
"nd159"="vocabgiven_2010",
"nd161"="vocab1_2010",
"nd163"="vocab2_2010",
"nd165"="vocab3_2010",
"nd167"="vocab4_2010",
"nd169"="vocab5_2010",
"nd178"="numbers1_2010",
"nd179"="numbers2_2010",
"nd180"="numbers3_2010",
"nd172"="needassist_2010",
"nd171"="helpedcog_2010",
"nd501"="proxycog1_2010",
"nd502"="proxycog2_2010",
"nd505"="proxycog3_2010",
"nd506"="iqcode1 _2010",
"nd507"="iqcode1I _2010",
"nd508"="iqcode1w_2010",
"nd509"="iqcode2_2010",
"nd510"="iqcode2i_2010",
"nd511"="iqcode2w_2010",
"nd512"="iqcode3_2010",
"nd513"="iqcode3i_2010",
"nd514"="iqcode3w_2010",
"nd515"="iqcode4_2010",
"nd516"="iqcode4i_2010",
"nd517"="iqcode4w_2010",
"nd518"="iqcode5_2010",
"nd519"="iqcode5i_2010",
"nd520"="iqcode5w_2010",
"nd521"="iqcode6_2010",
"nd522"="iqcode6i_2010",
"nd523"="iqcode6w_2010",
"nd524"="iqcode7_2010",
"nd525"="iqcode7i_2010",
"nd526"="iqcode7w_2010",
"nd527"="iqcode8_2010",
"nd528"="iqcode8i_2010",
"nd529"="iqcode8w_2010",
"nd530"="iqcode9_2010",
"nd531"="iqcode9i_2010",
"nd532"="iqcode9w_2010",
"nd533"="iqcode10_2010",
"nd534"="iqcode10i_2010",
"nd535"="iqcode10w_2010",
"nd536"="iqcode11_2010",
"nd537"="iqcode11i_2010",
"nd538"="iqcode11w_2010",
"nd539"="iqcode12_2010",
"nd540"="iqcode12i_2010",
"nd541"="iqcode12w_2010",
"nd542"="iqcode13_2010",
"nd543"="iqcode13i_2010",
"nd544"="iqcode13w_2010",
"nd545"="iqcode14_2010",
"nd546"="iqcode14i_2010",
"nd547"="iqcode14w_2010",
"nd548"="iqcode15_2010",
"nd549"="iqcode15i_2010",
"nd550"="iqcode15w_2010",
"nd551"="iqcode16_2010",
"nd552"="iqcode16i_2010",
"nd553"="iqcode16w_2010",
"nd554"="getslost_2010",
"nd555"="wanderoff_2010",
"nd556"="leftalone_2010",
"nd557"="hallucinate_2010",
"ni800"="I800_2012",
"ni802"="I802_2012",
"ni854"="bpYN_2012",
"ni855m1"="nobp1_2012",
"ni855m2"="nobp2_2012",
"ni855m3"="nobp3_2012",
"ni855m4"="nobp4_2012",
"ni857"="bptime_2012",
"ni859"="bpsys1_2012",
"ni860"="bpdia1_2012",
"ni861"="bppulse1_2012",
"ni862"="bptime2_2012",
"ni864"="bpsys2_2012",
"ni865"="bpdia2_2012",
"ni866"="bppulse2_2012",
"ni867"="bptime3_2012",
"ni869"="bptimesys3_2012",
"ni870"="bpdia3_2012",
"ni871"="bppulse3_2012",
"ni872"="bpArm_2012",
"ni873"="bpComp_2012",
"ni874"="bpposition_2012",
"ni875"="bpsmoke_2012",
"ni804"="breath_2012",
"ni805m1"="I805M1_2012",
"ni805m2"="I805M2_2012",
"ni805m3"="I805M3_2012",
"ni805m4"="I805M4_2012",
"ni807"="puff1_2012",
"ni808"="puff2_2012",
"ni809"="puff3_2012",
"ni810"="puffeffort_2012",
"ni811"="puffpostition_2012",
"ni812"="grip_2012",
"ni813m1"="I813M1_2012",
"ni813m2"="I813M2_2012",
"ni813m3"="I813M3_2012",
"ni813m4"="I813M4_2012",
"ni815"="domhand_2012",
"ni816"="gripLH1_2012",
"ni851"="gripRH1_2012",
"ni852"="gripLH2_2012",
"ni853"="gripRH2_2012",
"ni817"="gripeffort_2012",
"ni818"="grippos_2012",
"ni819"="I819_2012",
"ni876"="balanceST_2012",
"ni877m1"="I877M1_2012",
"ni877m2"="I877M2_2012",
"ni877m3"="I877M3_2012",
"ni877m4"="I877M4_2012",
"ni877m5"="I877M5_2012",
"ni879"="balSTfulltime_2012",
"ni880"="balSTtime_2012",
"ni881"="balSTcomp_2012",
"ni883"="balSBS_2012",
"ni884m1"="I884M1_2012",
"ni884m2"="I884M2_2012",
"ni884m3"="I884M3_2012",
"ni884m4"="I884M4_2012",
"ni884m5"="I884M5_2012",
"ni886"="balSBSfulltime_2012",
"ni887"="balSBStime_2012",
"ni888"="balSBScomp_2012",
"ni889"="I889_2012",
"ni891"="balSBScompli_2012",
"ni893"="tandcomp_2012",
"ni894m1"="I894M1_2012",
"ni894m2"="I894M2_2012",
"ni894m3"="I894M3_2012",
"ni894m4"="I894M4_2012",
"ni894m5"="I894M5_2012",
"ni896"="tandfulltime_2012",
"ni897"="tandtime_2012",
"ni898"="tandcompens_2012",
"ni899"="I899_2012",
"ni902"="tandcompli_2012",
"ni820"="walk_2012",
"ni821m1"="I821M1_2012",
"ni821m2"="I821M2_2012",
"ni821m3"="I821M3_2012",
"ni821m4"="I821M4_2012",
"ni821m5"="I821M5_2012",
"ni823"="walktime1_2012",
"ni824"="walktime2_2012",
"ni825"="walksurf_2012",
"ni828"="walkaid_2012",
"ni830"="walkeffort_2012",
"ni831"="I831_2012",
"ni832m1"="I832M1_2012",
"ni832m2"="I832M2_2012",
"ni832m3"="I832M3_2012",
"ni832m4"="I832M4_2012",
"ni832m5"="I832M5_2012",
"ni834"="height_2012",
"ni835"="I835_2012",
"ni837"="I837_2012",
"ni903"="I903_2012",
"ni838"="I838_2012",
"ni839m1"="I839M1_2012",
"ni839m2"="I839M2_2012",
"ni839m3"="I839M3_2012",
"ni839m4"="I839M4_2012",
"ni839m5"="I839M5_2012",
"ni841"="weight_2012",
"ni842"="I842_2012",
"ni844"="I844_2012",
"ni947"="I947_2012",
"ni904"="I904_2012",
"ni905m1"="I905M1_2012",
"ni905m2"="I905M2_2012",
"ni905m3"="I905M3_2012",
"ni905m4"="I905M4_2012",
"ni907"="waist_2012",
"ni908m1"="I908_2012",
"ni910"="I910_2012",
"ni911"="I911_2012",
"ni912"="I912_2012",
"ni913"="I913_2012",
"ni941m1"="I941M1_2012",
"ni941m2"="I941M2_2012",
"ni941m3"="I941M3_2012",
"ni941m4"="I941M4_2012",
"ni941m5"="I941M5_2012",
"ni914"="I914_2012",
"ni915"="I915_2012",
"ni916m1"="I916M1_2012",
"ni916m2"="I916M2_2012",
"ni916m3"="I916M3_2012",
"ni918"="I918_2012",
"ni919m1"="I919M1_2012",
"ni919m2"="I919M2_2012",
"ni919m3"="I919M3_2012",
"ni921"="I921_2012",
"ni922"="I922_2012",
"ni943m1"="I943M1_2012",
"ni943m2"="I943M2_2012",
"ni943m3"="I943M3_2012",
"ni943m4"="I943M4_2012",
"ni943m5"="I943M5_2012",
"ni923"="blood_2012",
"ni924m1"="I924M1_2012",
"ni924m2"="I924M2_2012",
"ni928"="I928_2012",
"ni929"="I929_2012",
"ni945"="I945_2012",
"ni930"="I930_2012",
"ni931"="I931_2012"
))
# rename variables for 2008 wave subset
ds12full <- readRDS(pathFile5RDS)
ds12 <- ds12full[1:100,]
source("./Scripts/Data/rename2012.R")
ds12 <- ds12[,keepvars12]
names(ds12full)
names(ds08)
ds12 <- plyr::rename(ds12, replace = c(
"hhidpn"="id_2012",)
keepvars12 <- c(
"id_2012")
keepvars12 <- c("id_2012")
ds12 <- ds12[,keepvars12]
names(ds12)
# rename variables for 2008 wave subset
ds12full <- readRDS(pathFile5RDS)
ds12 <- ds12full[1:100,]
source("./Scripts/Data/rename2012.R")
ds12 <- ds12[,keepvars12]
names(ds12)
# remove all elements for a clean start
rm(list=ls(all=TRUE))
cat("\014")
library(foreign)
library(plyr)
library(dplyr)
# Importing raw RAND files version A.
pathDir <- getwd()
pathFolder <- file.path(pathDir,"Data/Extract/RAND_vA")
pathFolderSPSS <- file.path(pathFolder,"spss")
pathFile1 <- file.path(pathFolderSPSS, "h04f1a.sav")
pathFile1RDS <- file.path(pathFolder, "h04f1a.Rds")
pathFile2 <- file.path(pathFolderSPSS, "h06f2b.sav")
pathFile2RDS <- file.path(pathFolder, "h06f2b.Rds")
pathFile3 <- file.path(pathFolderSPSS, "h08f2a.sav")
pathFile3RDS <- file.path(pathFolder, "h08f2a.Rds")
pathFile4 <- file.path(pathFolderSPSS, "h10f4a.sav")
pathFile4RDS <- file.path(pathFolder, "h10f4a.Rds")
pathFile5 <- file.path(pathFolderSPSS, "h12e1a.sav")
pathFile5RDS <- file.path(pathFolder, "h12e1a.Rds")
require(foreign)
# rename variables for 2008 wave subset
ds12full <- readRDS(pathFile5RDS)
ds12 <- ds12full[1:100,]
source("./Scripts/Data/rename2012.R")
ds12 <- ds12[,keepvars12]
# rename variables for 2012 wave subset
ds12full <- readRDS(pathFile5RDS)
ds12 <- ds12full[1:100,]
source("./Scripts/Data/rename2012.R")
ds12 <- ds12[,keepvars12]
# rename variables for 2012 wave subset
ds12full <- readRDS(pathFile5RDS)
ds12 <- ds12full[1:100,]
source("./Scripts/Data/rename2012.R")
ds12 <- ds12[,keepvars12]
dsTemp <- merge(x=ds04, y=ds06, by= c("HHIDPN","BIRTHMO","BIRTHYR", "gender"))
source('~/GitHub/SEC-HRS-Public/Scripts/Data/Import_Rename.R', echo=TRUE)
# remove all elements for a clean start
rm(list=ls(all=TRUE))
cat("\014")
library(foreign)
library(plyr)
library(dplyr)
# Importing raw RAND files version A.
pathDir <- getwd()
pathFolder <- file.path(pathDir,"Data/Extract/RAND_vA")
pathFolderSPSS <- file.path(pathFolder,"spss")
pathFile1 <- file.path(pathFolderSPSS, "h04f1a.sav")
pathFile1RDS <- file.path(pathFolder, "h04f1a.Rds")
pathFile2 <- file.path(pathFolderSPSS, "h06f2b.sav")
pathFile2RDS <- file.path(pathFolder, "h06f2b.Rds")
pathFile3 <- file.path(pathFolderSPSS, "h08f2a.sav")
pathFile3RDS <- file.path(pathFolder, "h08f2a.Rds")
pathFile4 <- file.path(pathFolderSPSS, "h10f4a.sav")
pathFile4RDS <- file.path(pathFolder, "h10f4a.Rds")
pathFile5 <- file.path(pathFolderSPSS, "h12e1a.sav")
pathFile5RDS <- file.path(pathFolder, "h12e1a.Rds")
require(foreign)
#Next three lines are run the first time on machine
#ds0_1 <- read.spss(file = pathFile1, use.value.labels=TRUE)
#ds0_1 <- data.frame(ds0_1)
#saveRDS(object = ds0_1, file=pathFile1RDS, compress="xz")
#Next three lines are run the first time on machine
#ds0_2 <- read.spss(file=pathFile2, use.value.labels=TRUE)
#ds0_2 <- data.frame(ds0_2)
#saveRDS(object = ds0_2, file=pathFile2RDS, compress="xz")
#Next three lines are run the first time on machine
#ds0_3 <- read.spss(file=pathFile3, use.value.labels=TRUE)
#ds0_3 <- data.frame(ds0_3)
#saveRDS(object = ds0_3, file=pathFile3RDS, compress="xz")
#Next three lines are run the first time on machine
#ds0_4 <- read.spss(file = pathFile4, use.value.labels=TRUE)
#ds0_4 <- data.frame(ds0_4)
#saveRDS(object = ds0_4, file=pathFile4RDS, compress="xz")
#Next three lines are run the first time on machine
#ds0_5 <- read.spss(file=pathFile5, use.value.labels=TRUE)
#ds0_5 <- data.frame(ds0_5)
#saveRDS(object = ds0_5, file=pathFile5RDS, compress="xz")
require(dplyr)
# rename variables for 2004 wave subset
ds04full <- readRDS(pathFile1RDS)
ds04 <- ds04full[1:100,]
source("./Scripts/Data/rename2004.R")
ds04 <- ds04[,keepvars04]
# rename variables for 2006 wave subset
ds06full <- readRDS(pathFile2RDS)
ds06 <- ds06full[1:100,]
source("./Scripts/Data/rename2006.R")
ds06 <- ds06[,keepvars06]
# rename variables for 2008 wave subset
ds08full <- readRDS(pathFile3RDS)
ds08 <- ds08full[1:100,]
source("./Scripts/Data/rename2008.R")
ds08 <- ds08[,keepvars08]
# rename variables for 2012 wave subset
ds12full <- readRDS(pathFile5RDS)
ds12 <- ds12full[1:100,]
source("./Scripts/Data/rename2012.R")
ds12 <- ds12[,keepvars12]
# rename variables for 2012 wave subset
ds12full <- readRDS(pathFile5RDS)
ds12 <- ds12full[1:100,]
source("./Scripts/Data/rename2012.R")
ds12 <- ds12[,keepvars12]
pathFile5 <- file.path(pathFolderSPSS, "h12e1a.sav")
pathFile5RDS <- file.path(pathFolder, "h12e1a.Rds")
# rename variables for 2012 wave subset
ds12full <- readRDS(pathFile5RDS)
ds12 <- ds12full[1:100,]
source("./Scripts/Data/rename2012.R")
ds12 <- ds12[,keepvars12]
options(width=160)
rm(list=ls())
cat("\f")
## @knitr setPaths
pathDir <- getwd() # establish home directory
pathFileBL <- file.path(pathDir,"data/raw/dataset_285_basic_03-2014.csv")
pathFileLong <- file.path(pathDir,"data/raw/dataset_285_long_03-2014.csv")
## @knitr load_data
BL_raw <- read.csv(pathFileBL) # baseline measure
Long_raw <- read.csv(pathFileLong) # longitudinal observations
(namesBL <- names(BL_raw))
(namesLong <- names(Long_raw))
intersect(namesBL, namesLong) # common variables
str(BL_raw$projid)
str(BL_raw$study)
str(BL_raw$scaled_to)
str(Long_raw$projid)
str(Long_raw$study)
str(Long_raw$scaled_to)
table(BL_raw$scaled_to)
table(BL_raw$study)
table(Long_raw$scaled_to)
table(Long_raw$study)
# ds0 <- dplyr::full_join(BL_raw, Long_raw, by = c("projid","study", "scaled_to"))
ds0 <- dplyr::full_join(BL_raw, Long_raw, by = c("projid","study"))
ds0 <- dplyr::rename(ds0, id=projid)
saveRDS(ds0,"./data/derived/ds0.rds")
